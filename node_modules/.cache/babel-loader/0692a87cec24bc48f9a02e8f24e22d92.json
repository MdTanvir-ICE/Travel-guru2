{"ast":null,"code":"import * as firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport firebaseConfig from './fairebase.auth';\nexport var initializeLoginFramework = function initializeLoginFramework() {\n  if (firebase.apps.length === 0) {\n    firebase.initializeApp(firebaseConfig);\n  }\n};\nexport var handleGoogleSignIn = function handleGoogleSignIn() {\n  var googleProvider = new firebase.auth.GoogleAuthProvider();\n  return firebase.auth().signInWithPopup(googleProvider).then(function (res) {\n    var _res$user = res.user,\n        displayName = _res$user.displayName,\n        photoURL = _res$user.photoURL,\n        email = _res$user.email;\n    var signedInUser = {\n      isSignedIn: true,\n      name: displayName,\n      email: email,\n      photo: photoURL,\n      success: true\n    };\n    return signedInUser;\n  }).catch(function (err) {\n    console.log(err);\n    console.log(err.message);\n  });\n};\nexport var handleFbSignIn = function handleFbSignIn() {\n  var fbProvider = new firebase.auth.FacebookAuthProvider();\n  return firebase.auth().signInWithPopup(fbProvider).then(function (result) {\n    var token = result.credential.accessToken; // var user = result.user;\n    // user.success = true;\n\n    var _result$user = result.user,\n        displayName = _result$user.displayName,\n        photoURL = _result$user.photoURL,\n        email = _result$user.email;\n    var signedInUser = {\n      isSignedIn: true,\n      name: displayName,\n      email: email,\n      photo: photoURL,\n      success: true\n    };\n    return signedInUser;\n  }).catch(function (error) {\n    var errorCode = error.code;\n    var errorMessage = error.message;\n    console.log(errorCode, errorMessage);\n  });\n};\nexport var handleSignOut = function handleSignOut() {\n  return firebase.auth().signOut().then(function (res) {\n    var signedOutUser = {\n      isSignedIn: false,\n      name: '',\n      email: '',\n      photo: '',\n      error: '',\n      success: false\n    };\n    return signedOutUser;\n  }).catch(function (err) {// An error happened.\n  });\n};\nexport var createUserWithEmailAndPassword = function createUserWithEmailAndPassword(name, email, password) {\n  return firebase.auth().createUserWithEmailAndPassword(email, password).then(function (res) {\n    var newUserInfo = res.user;\n    newUserInfo.error = '';\n    newUserInfo.success = true;\n    updateUserName(name);\n    return newUserInfo;\n  }).catch(function (error) {\n    var newUserInfo = {};\n    newUserInfo.error = error.message;\n    newUserInfo.success = false;\n    return newUserInfo;\n  });\n};\nexport var signInWithEmailAndPassword = function signInWithEmailAndPassword(email, password) {\n  return firebase.auth().signInWithEmailAndPassword(email, password).then(function (res) {\n    var newUserInfo = res.user;\n    newUserInfo.error = '';\n    newUserInfo.success = true;\n    return newUserInfo;\n  }).catch(function (error) {\n    var newUserInfo = {};\n    newUserInfo.error = error.message;\n    newUserInfo.success = false;\n    return newUserInfo;\n  });\n};\n\nvar updateUserName = function updateUserName(name) {\n  var user = firebase.auth().currentUser;\n  user.updateProfile({\n    displayName: name\n  }).then(function () {\n    console.log('user name updated successfully');\n  }).catch(function (error) {\n    console.log(error);\n  });\n};","map":{"version":3,"sources":["C:/Users/HP/Desktop/react_projects/travel-site/src/Component/LoginHeaquater/LoginManager.js"],"names":["firebase","firebaseConfig","initializeLoginFramework","apps","length","initializeApp","handleGoogleSignIn","googleProvider","auth","GoogleAuthProvider","signInWithPopup","then","res","user","displayName","photoURL","email","signedInUser","isSignedIn","name","photo","success","catch","err","console","log","message","handleFbSignIn","fbProvider","FacebookAuthProvider","result","token","credential","accessToken","error","errorCode","code","errorMessage","handleSignOut","signOut","signedOutUser","createUserWithEmailAndPassword","password","newUserInfo","updateUserName","signInWithEmailAndPassword","currentUser","updateProfile"],"mappings":"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","sourcesContent":["import * as firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport firebaseConfig from './fairebase.auth';\r\n\r\nexport const initializeLoginFramework = () => {\r\n    if(firebase.apps.length === 0) {\r\n        firebase.initializeApp(firebaseConfig);\r\n    }\r\n}\r\n\r\nexport const handleGoogleSignIn = () => {\r\n    const googleProvider = new firebase.auth.GoogleAuthProvider();\r\n    return firebase.auth().signInWithPopup(googleProvider)\r\n    .then(res => {\r\n      const {displayName, photoURL, email} = res.user;\r\n      const signedInUser = {\r\n        isSignedIn: true,\r\n        name: displayName,\r\n        email: email,\r\n        photo: photoURL,\r\n        success: true\r\n      };\r\n      return signedInUser;\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n      console.log(err.message);\r\n    })\r\n  }\r\n\r\n  export const handleFbSignIn = () => {\r\n    const fbProvider = new firebase.auth.FacebookAuthProvider();\r\n    return firebase.auth().signInWithPopup(fbProvider)\r\n    .then(function(result) {\r\n      var token = result.credential.accessToken;\r\n      // var user = result.user;\r\n      // user.success = true;\r\n      const {displayName, photoURL, email} = result.user;\r\n      const signedInUser = {\r\n        isSignedIn: true,\r\n        name: displayName,\r\n        email: email,\r\n        photo: photoURL,\r\n        success: true\r\n      };\r\n      return signedInUser;\r\n      \r\n    }).catch(function(error) {\r\n      var errorCode = error.code;\r\n      var errorMessage = error.message;\r\n      console.log(errorCode, errorMessage)\r\n    });\r\n  }\r\n\r\n  export const handleSignOut = () => {\r\n    return firebase.auth().signOut()\r\n    .then(res => {\r\n      const signedOutUser = {\r\n        isSignedIn: false,\r\n        name: '',\r\n        email: '',\r\n        photo: '',\r\n        error: '',\r\n        success: false\r\n      }\r\n      return signedOutUser;\r\n    }).catch(err => {\r\n      // An error happened.\r\n    });\r\n  }\r\n\r\n export const createUserWithEmailAndPassword = (name, email, password) => {\r\n    return firebase.auth().createUserWithEmailAndPassword(email, password)\r\n    .then( res => {\r\n      const newUserInfo = res.user;\r\n      newUserInfo.error = '';\r\n      newUserInfo.success = true;\r\n      updateUserName(name);\r\n      return newUserInfo;\r\n    })\r\n    .catch( error => {\r\n      const newUserInfo = {};\r\n      newUserInfo.error = error.message;\r\n      newUserInfo.success = false;\r\n      return newUserInfo;\r\n    });\r\n }\r\n\r\n export const signInWithEmailAndPassword = (email, password) =>{\r\n    return firebase.auth().signInWithEmailAndPassword(email, password)\r\n    .then(res => {\r\n      const newUserInfo = res.user;\r\n      newUserInfo.error = '';\r\n      newUserInfo.success = true;\r\n      return newUserInfo;\r\n    })\r\n    .catch(function(error) {\r\n      const newUserInfo = {};\r\n      newUserInfo.error = error.message;\r\n      newUserInfo.success = false;\r\n      return newUserInfo;\r\n    });\r\n }\r\n\r\n const updateUserName = name =>{\r\n    const user = firebase.auth().currentUser;\r\n    user.updateProfile({\r\n      displayName: name\r\n    }).then(function() {\r\n      console.log('user name updated successfully')\r\n    }).catch(function(error) {\r\n      console.log(error)\r\n    });\r\n  }"]},"metadata":{},"sourceType":"module"}