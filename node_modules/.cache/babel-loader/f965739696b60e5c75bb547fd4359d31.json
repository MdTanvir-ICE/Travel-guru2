{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\HP\\\\Desktop\\\\react_projects\\\\travel-site\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\HP\\\\Desktop\\\\react_projects\\\\travel-site\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\react_projects\\\\travel-site\\\\src\\\\Component\\\\CreateAccount\\\\CreateAccount.js\";\n\nimport React, { useContext, useState } from 'react';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport './CreateAccount.css';\nimport { initializeLoginFramework, handleGoogleSignIn, handleFbSignIn, createUserWithEmailAndPassword, signInWithEmailAndPassword } from '../LoginHeaquater/LoginManager';\nimport { UserContext } from '../../App';\n\nvar CreateAccount = function CreateAccount() {\n  // initializeLoginFramework();\n  var _useContext = useContext(UserContext),\n      _useContext2 = _slicedToArray(_useContext, 2),\n      loggedInUser = _useContext2[0],\n      setLoggedInUser = _useContext2[1];\n\n  var history = useHistory();\n  var location = useLocation();\n\n  var _ref = location.state || {\n    from: {\n      pathname: \"/\"\n    }\n  },\n      from = _ref.from;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      checkPassWord = _useState2[0],\n      setCheckPassWord = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      warning = _useState4[0],\n      setWarning = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isValid = _useState6[0],\n      setIsvalid = _useState6[1];\n\n  var _useState7 = useState({\n    isSignedIn: false,\n    name: '',\n    email: '',\n    Conpassword: '',\n    password: '',\n    photo: ''\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      user = _useState8[0],\n      setUser = _useState8[1];\n\n  var handleBlur = function handleBlur(e) {\n    var isFieldValid = true;\n\n    if (e.target.name === 'email') {\n      isFieldValid = /\\S+@\\S+\\.\\S+/.test(e.target.value);\n      if (!isFieldValid) setWarning('Please check your Email');\n    }\n\n    if (e.target.name === 'name') {\n      isFieldValid = e.target.value.length > 0 ? true : false;\n      if (!isFieldValid) setWarning('Name is necessary plaease fill it');\n    }\n\n    if (e.target.name === 'Conpassword') {\n      isFieldValid = checkPassWord === e.target.value;\n      console.log(checkPassWord, e.target.value);\n      if (!isFieldValid) setWarning('Please chek your confirmation password');\n    }\n\n    if (e.target.name === 'password') {\n      var isPasswordValid = e.target.value.length > 6;\n      var passwordHasNumber = /\\d{1}/.test(e.target.value);\n      isFieldValid = isPasswordValid && passwordHasNumber;\n      setCheckPassWord(e.target.value);\n      setWarning('Atlest one digit should be inclue and length getter then 6');\n    }\n\n    if (isFieldValid) {\n      var newUserInfo = _objectSpread({}, user);\n\n      newUserInfo[e.target.name] = e.target.value;\n      setUser(newUserInfo);\n    }\n\n    setIsvalid(isFieldValid);\n  };\n\n  var googleSignIn = function googleSignIn() {\n    handleGoogleSignIn().then(function (res) {\n      handleResponse(res, true);\n    });\n  };\n\n  var fbSignIn = function fbSignIn() {\n    handleFbSignIn().then(function (res) {\n      handleResponse(res, true);\n    });\n  };\n\n  var handleResponse = function handleResponse(res, redirect) {\n    setUser(res);\n    setLoggedInUser(res);\n\n    if (redirect) {\n      history.replace(from);\n    }\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    if (user.email && user.password) {\n      createUserWithEmailAndPassword(user.name, user.email, user.password).then(function (res) {\n        handleResponse(res, true);\n      });\n    }\n\n    e.preventDefault();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \" container loginSection\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    class: \"login-area \",\n    onSubmit: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, !isValid && /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      color: 'red'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 33\n    }\n  }, \" \", warning, \" \"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, \"Create an account\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    onBlur: handleBlur,\n    name: \"name\",\n    placeholder: \"Firsst name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    onBlur: handleBlur,\n    name: \"name\",\n    placeholder: \"Last name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    onBlur: handleBlur,\n    name: \"email\",\n    placeholder: \"User name or email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    onBlur: handleBlur,\n    name: \"password\",\n    placeholder: \"password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    onBlur: handleBlur,\n    name: \"Conpassword\",\n    placeholder: \"Confirm password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    style: {\n      backgroundColor: 'orange',\n      border: '1px solid orange'\n    },\n    value: \"Create an account\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, \"Allready have an account?\", /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 45\n    }\n  }, \"Log in\"))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"d-flex fakeBorder bottomPart\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, \"or\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"bottomPart\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"bttnGf\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://www.logo.wine/a/logo/Facebook/Facebook-f_Logo-Blue-Logo.wine.svg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 40\n    }\n  }), \"Continue with facebook\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: googleSignIn,\n    class: \"bttnGf\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://i.pinimg.com/originals/39/21/6d/39216d73519bca962bd4a01f3e8f4a4b.png\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 21\n    }\n  }), \"Continue with Google\")));\n};\n\nexport default CreateAccount;","map":{"version":3,"sources":["C:/Users/HP/Desktop/react_projects/travel-site/src/Component/CreateAccount/CreateAccount.js"],"names":["React","useContext","useState","Link","useHistory","useLocation","initializeLoginFramework","handleGoogleSignIn","handleFbSignIn","createUserWithEmailAndPassword","signInWithEmailAndPassword","UserContext","CreateAccount","loggedInUser","setLoggedInUser","history","location","state","from","pathname","checkPassWord","setCheckPassWord","warning","setWarning","isValid","setIsvalid","isSignedIn","name","email","Conpassword","password","photo","user","setUser","handleBlur","e","isFieldValid","target","test","value","length","console","log","isPasswordValid","passwordHasNumber","newUserInfo","googleSignIn","then","res","handleResponse","fbSignIn","redirect","replace","handleSubmit","preventDefault","color","backgroundColor","border"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport { Link, useHistory, useLocation } from 'react-router-dom';\r\nimport './CreateAccount.css'\r\nimport { initializeLoginFramework, handleGoogleSignIn, handleFbSignIn, createUserWithEmailAndPassword, signInWithEmailAndPassword } from '../LoginHeaquater/LoginManager';\r\nimport { UserContext } from '../../App';\r\n\r\nconst CreateAccount = () => {\r\n   // initializeLoginFramework();\r\n    const [loggedInUser, setLoggedInUser] = useContext(UserContext);\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    let { from } = location.state || { from: { pathname: \"/\" } };\r\n    const [checkPassWord, setCheckPassWord] = useState('');\r\n    const [warning, setWarning] = useState();\r\n    const [isValid, setIsvalid] = useState(true);\r\n    \r\n\r\n    const [user, setUser] = useState({\r\n        isSignedIn: false,\r\n        name: '',\r\n        email: '',\r\n        Conpassword: '',\r\n        password: '',\r\n        photo: ''\r\n    });\r\n\r\n    const handleBlur = (e) => {\r\n        let isFieldValid = true;\r\n        if (e.target.name === 'email') {\r\n            isFieldValid = /\\S+@\\S+\\.\\S+/.test(e.target.value);\r\n            if (!isFieldValid) setWarning('Please check your Email');\r\n        }\r\n        if (e.target.name === 'name') {\r\n            isFieldValid = e.target.value.length > 0 ? true : false;\r\n            if (!isFieldValid) setWarning('Name is necessary plaease fill it');\r\n        }\r\n        if (e.target.name === 'Conpassword') {\r\n            isFieldValid = checkPassWord === e.target.value;\r\n            console.log(checkPassWord, e.target.value);\r\n            if (!isFieldValid) setWarning('Please chek your confirmation password')\r\n\r\n        }\r\n        if (e.target.name === 'password') {\r\n            const isPasswordValid = e.target.value.length > 6;\r\n            const passwordHasNumber = /\\d{1}/.test(e.target.value);\r\n            isFieldValid = isPasswordValid && passwordHasNumber;\r\n            setCheckPassWord(e.target.value);\r\n            setWarning('Atlest one digit should be inclue and length getter then 6')\r\n        }\r\n        if (isFieldValid) {\r\n            const newUserInfo = { ...user };\r\n            newUserInfo[e.target.name] = e.target.value;\r\n            setUser(newUserInfo);\r\n        }\r\n        setIsvalid(isFieldValid);\r\n    }\r\n\r\n    const googleSignIn = () => {\r\n        handleGoogleSignIn()\r\n            .then(res => {\r\n                handleResponse(res, true);\r\n            })\r\n    }\r\n\r\n    const fbSignIn = () => {\r\n        handleFbSignIn()\r\n            .then(res => {\r\n                handleResponse(res, true);\r\n            })\r\n\r\n    }\r\n    const handleResponse = (res, redirect) => {\r\n        setUser(res);\r\n        setLoggedInUser(res);\r\n        if (redirect) {\r\n            history.replace(from);\r\n        }\r\n    }\r\n    const handleSubmit = (e) => {\r\n        if (user.email && user.password) {\r\n            createUserWithEmailAndPassword(user.name, user.email, user.password)\r\n                .then(res => {\r\n                    handleResponse(res, true);\r\n                })\r\n        }\r\n        e.preventDefault();\r\n    }\r\n\r\n\r\n    return (\r\n\r\n\r\n        <div className=\" container loginSection\">\r\n\r\n            <form class=\"login-area \" onSubmit={handleSubmit}>\r\n                {\r\n                    !isValid && <h3 style={{ color: 'red' }}> {warning} </h3>\r\n                }\r\n                <h3>Create an account</h3>\r\n                <div>\r\n                    <input type=\"text\" onBlur={handleBlur} name=\"name\" placeholder=\"Firsst name\" />\r\n                </div>\r\n                <div>\r\n                    <input type=\"text\" onBlur={handleBlur} name=\"name\" placeholder=\"Last name\" />\r\n                </div>\r\n                <div>\r\n                    <input type=\"text\" onBlur={handleBlur} name=\"email\" placeholder=\"User name or email\" />\r\n                </div>\r\n                <div>\r\n                    <input type=\"password\" onBlur={handleBlur} name=\"password\" placeholder=\"password\" />\r\n                </div>\r\n                <div>\r\n                    <input type=\"password\" onBlur={handleBlur} name=\"Conpassword\" placeholder=\"Confirm password\" />\r\n                </div>\r\n\r\n                <br />\r\n\r\n                <input type=\"submit\" style={{backgroundColor:'orange',border:'1px solid orange'}} value='Create an account' />\r\n                <p>Allready have an account?<Link to=\"/login\">Log in</Link></p>\r\n\r\n            </form>\r\n            <br />\r\n            <div class=\"d-flex fakeBorder bottomPart\">\r\n                <hr />\r\n                <span >or</span>\r\n                <hr />\r\n            </div>\r\n            <div class=\"bottomPart\">\r\n                <button class=\"bttnGf\"><img src=\"https://www.logo.wine/a/logo/Facebook/Facebook-f_Logo-Blue-Logo.wine.svg\" />\r\n                                Continue with facebook\r\n                                </button>\r\n                <br />\r\n                <button onClick={googleSignIn} class=\"bttnGf\">\r\n                    <img src=\"https://i.pinimg.com/originals/39/21/6d/39216d73519bca962bd4a01f3e8f4a4b.png\" />\r\n                                            Continue with Google</button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CreateAccount;"]},"metadata":{},"sourceType":"module"}